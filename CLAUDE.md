# Project Overview

This is a **browser userscript** that uses the **official Zhihu API** to view and manage a user's browsing history, including:

* Answers
* Articles
* Posts, etc.
* Search and bulk delete support

The project is built with **React + TypeScript + Vite**, but **does not introduce any additional React runtime**. (**Reuses `React` and `ReactDOM` already loaded on Zhihu pages**.)

## Development Conventions

* **All changes must pass lint and typecheck**
* Do not introduce new runtime dependencies (especially React-related)
* Prefer reusing Zhihu's existing capabilities rather than reimplementing

---

## Development Commands

### Install dependencies

```bash
pnpm install
```

### Development mode

```bash
pnpm dev
```

### Build

```bash
pnpm build
```

### Preview build output

```bash
pnpm preview
```

---

## Code Quality

### Lint

```bash
pnpm lint
```

### Auto-fix

```bash
pnpm lint:fix
```

### Type check

```bash
pnpm typecheck
```

> Before committing or releasing, ensure all checks pass.

---

## Maintenance and Release

### Version bump

```bash
pnpm release
```

### Update dependencies

```bash
pnpm bump-deps
```

# Agentlens Integration

This project uses **agentlens** for AI-optimized documentation.

## Reading Protocol

Follow this order to understand the codebase efficiently:

1. **Start here**: `.agentlens/INDEX.md` - Project overview and module routing
2. **AI instructions**: `.agentlens/AGENT.md` - How to use the documentation
3. **Module details**: `.agentlens/modules/{module}/MODULE.md` - File lists and entry points
4. **Before editing**: Check `.agentlens/modules/{module}/memory.md` for warnings/TODOs

## Documentation Structure

```
.agentlens/
â”œâ”€â”€ INDEX.md              # Start here - global routing table
â”œâ”€â”€ AGENT.md              # AI agent instructions
â”œâ”€â”€ modules/
â”‚   â””â”€â”€ {module-slug}/
â”‚       â”œâ”€â”€ MODULE.md     # Module summary
â”‚       â”œâ”€â”€ outline.md    # Symbol maps for large files
â”‚       â”œâ”€â”€ memory.md     # Warnings, TODOs, business rules
â”‚       â””â”€â”€ imports.md    # Dependencies
â””â”€â”€ files/                # Deep docs for complex files
```

## During Development

- Use `.agentlens/modules/{module}/outline.md` to find symbols in large files
- Check `.agentlens/modules/{module}/imports.md` for dependencies
- For complex files, see `.agentlens/files/{file-slug}.md`

## Commands

| Task                       | Command                 |
| -------------------------- | ----------------------- |
| Regenerate docs            | `agentlens`             |
| Fast update (changed only) | `agentlens --diff main` |
| Check if stale             | `agentlens --check`     |
| Force full regen           | `agentlens --force`     |

## Key Patterns

- **Module boundaries**: `mod.rs` (Rust), `index.ts` (TS), `__init__.py` (Python)
- **Large files**: >500 lines, have symbol outlines
- **Complex files**: >30 symbols, have L2 deep docs
- **Hub files**: Imported by 3+ files, marked with ðŸ”—
- **Memory markers**: TODO, FIXME, WARNING, SAFETY, RULE

---
*Generated by [agentlens](https://github.com/nguyenphutrong/agentlens)*
